\chapter{Аналитический раздел}

Будут рассмотрены две группы реализаций алгоритмов:
\begin{itemize}
	\item матричный (нерекурсивный) --- алгоритм работает не рекурсивно, обрабатывая матрицу на каждой итерации;
	\item рекурсивный --- алгоритм реализуется посредством вложенных вызовов себя же с измененными аргументами.
\end{itemize}

В лабораторной работе будут рассмотрены следующие реализации алгоритмов:
\begin{itemize}
	\item матричная (нерекурсивная) реализация алгоритма поиска расстояния Левенштейна;
	\item матричная (нерекурсивная) реализация алгоритма поиска расстояния Дамерау-Левенштейна;
	\item рекурсивная реализация алгоритма поиска расстояния Дамерау---Левенштейна;
	\item рекурсивная реализация алгоритма поиска расстояния Дамерау---Левенштейна с кэшированием.
\end{itemize}

\section{Расстояние Левенштейна}
Расстояние Левенштейна - это число, которое показывает, насколько различны две строки~\cite{definition-lev}.

Любая операция имеет свою цену, но в общем виде:
\begin{itemize}
	\item $w(a, b)$ --- замена символа $a$ на $b$, R (англ. replace);
	\item $w(\lambda, a)$ --- вставка символа $a$, I (англ. insert);
	\item $w(a, \lambda)$ --- удаление символа $a$, D (англ. delete);
\end{itemize}

Пусть стоимость каждой такой операции равна 1, тогда:
\begin{itemize}
	\item $w(a, b) = 1, \medspace a \neq b$;
	\item $w(\lambda, a) = 1$;
	\item $w(a, \lambda) = 1$;
	\item $w(a, b) = 0, \medspace a = b$ --- операция M --- совпадение (англ. match).
\end{itemize}

Однако существует проблема выравнивания строк различной длины, при котором есть более, чем один вариант сопоставления символов. 
В таком случае эта проблема решается введением рекуррентной формулы, где

\begin{itemize}
	\item $l_{1}$ --- длина $str_{1}$;
	\item $l_{2}$ --- длина $str_{2}$;
	\item $str_{1}[1 \ldots i]$ --- подстрока $str_{1}$ длиной $i$, начиная с 1-го символа;
	\item $str_{2}[1 \ldots j]$ --- подстрока $str_{2}$ длиной $j$, начиная с 1-го символа.
\end{itemize}

В таком случае расстояние Левенштейна между строками $str_{1}$ (длиной $l_{1}$) и $str_{2}$ (длиной $l_{2}$) можно рассчитать следующим образом:

\begin{equation}
	\label{equation:lev}
	D(i, j) = \begin{cases}
		0, & \textrm{$\mbox{если }i = 0, j = 0$}\\
		j, & \textrm{$\mbox{если }i = 0, j > 0$}\\
		i, & \textrm{$\mbox{если }j = 0, i > 0$}\\
		min(D(i, j - 1)+1,\\
		\qquad D(i - 1, j) + 1, &\textrm{$\mbox{если }i > 0, j > 0$}\\
		\qquad D(i - 1, j - 1) + m(str_{1}[i],str_{2}[j),
	\end{cases}
\end{equation}

При этом $str_{1}[i]$ и $str_{2}[j]$ сравниваются так:
\begin{equation}
	\label{equation:change}
	m(a, b) = \begin{cases}
		0 &\text{если a = b,}\\
		1 &\text{иначе.}
	\end{cases}
\end{equation}

\section{Расстояние Дамерау---Левенштейна}

Фредерик Дамерау заметил, что иногда несовпадение пар соседних символов между строками является проблемой неправильного порядка записи и ввел операцию замены S (англ. swap). 
Иными словами, операция применяется только в тех случаях, когда $str_{1}[i] = str_{2}[j - 1]$ и $str_{1}[i - 1] = str_{2}[j]$. Тогда используется следующая формула:

\begin{equation}
	\label{equation:dam-lev}
	D(i, j) = \begin{cases}
		0, & \textrm{$\mbox{если }i = 0, j = 0$}\\
		j, & \textrm{$\mbox{если }i = 0, j > 0$}\\
		i, & \textrm{$\mbox{если }j = 0, i > 0$}\\
		min(D(i, j - 1) + 1, & \textrm{$\mbox{если }i, j > 0,$}\\
		\qquad D(i - 1, j) + 1, & \textrm{$S_{1}[i] = S_{2}[j - 1],$}\\
		\qquad D(i - 1, j -1), & \textrm{$S_{1}[i - 1] = S_{2}[j]$}\\
		\qquad D(i - 2, j - 2) + 1) \\
		min(D(i, j - 1) + 1, \\
		\qquad D(i - 1, j) + 1), & \textrm{$\mbox{иначе}$}\\
		\qquad D(i - 1, j - 1) + m(S_{1}[i], S_{2}[j])) \\
	\end{cases}
\end{equation}

\textbf{Вывод:}
Таким образом, в этом разделе была поставлена цель, определены задачи, введены понятия расстояния Левенштейна и Дамерау---Левенштейна и выведены формулы поиска значений.
